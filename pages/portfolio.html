<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JamMoney - 모의주식투자 포트폴리오</title>
    <link rel="icon" href="../assets/images/favicon.png" type="image/png">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/invest.css">
</head>

<body>
    <!-- 메인 콘텐츠 영역 -->
    <div class="main-content">

        <!-- 헤더 영역 -->
        <header>
            <button class="back-button" onclick="history.back();">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 19L8 12L15 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
            내 포트폴리오
        </header>

        <!-- 구현 영역 -->
        <div class="content">
            <section class="summary-box">
                <div class="summary-title">보유 주식</div>
                <div class="summary-amount" id="totalEvaluation"></div>
                <div class="summary-rate" id="totalProfitRate"></div>
            </section>

            <section class="chart-box">
                <h2 style="font-size: 1.1em;">자산 비중</h2>
                <div id="portfolioChart"></div>
            </section>


            <div class="portfolio-tabs">
                <button class="tab-button active" data-tab="holding">보유 주식</button>
                <button class="tab-button" data-tab="waiting">예약 주문</button>
            </div>

            <div id="holding-tab" class="tab-content active">
                <div id="holdingList"></div>
            </div>

            <div id="waiting-tab" class="tab-content">
                <div id="waitingOrderList"></div>
            </div>

        </div>

    </div>

    <div id="navbar"></div>
    <script src="../js/script.js"></script>
    <script type="module" src="../js/features/mock_invest/portfolio.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <div id="toast" class="toast"></div>
    <div id="confirm-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000;">
        <div style="background: white; padding: 24px; border-radius: 12px; text-align: center; width: 280px;">
            <p id="confirm-message" style="margin-bottom: 20px; font-weight: 500;">이 예약 주문을 삭제하시겠습니까?</p>
            <div style="margin-top: 12px;">
                <button id="confirm-cancel"
                    style="margin-right: 12px; padding: 6px 14px; background: #ccc; color: white; border: none; border-radius: 6px;">
                    취소
                </button>
                <button id="confirm-ok"
                    style="padding: 6px 14px; background: #51B291; color: white; border: none; border-radius: 6px;">
                    확인
                </button>
            </div>
        </div>
    </div>

    <!-- 에러 모달 -->
    <div id="error-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1001;">
        <div style="background: white; padding: 24px; border-radius: 12px; text-align: center; width: 280px;">
            <p id="error-message" style="margin-bottom: 20px; font-weight: 500;">에러 메시지가 표시됩니다.</p>
            <button id="error-close"
                style="padding: 6px 14px; background: #51B291; color: white; border: none; border-radius: 6px;">
                확인
            </button>
        </div>
    </div>

    <script>
        document.getElementById("error-close").onclick = () => {
            document.getElementById("error-modal").style.display = "none";
        };
    </script>


</body>

</html>